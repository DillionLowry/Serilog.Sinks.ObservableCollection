## Logger Setup
The logger is set up in the App.xaml.cs file. The application uses the Microsoft.Extensions.Hosting package to create a host for the application and, during configuration, the Serilog logger is added to the host with the `UseSerilog()` method.

The logger is configured to write to an `ObservableCollection<LogEvent>`, which is registered as a singleton service in the host's service collection.

The `ObservableCollection<LogEvent>` is configured to store a maximum of 1000 events, enable batching (via Serilog.Sinks.PeriodicBatching), limit the batch size to 50 events, and set the period between batches to 2 seconds.
Additionally, an action is configured to be performed when no events have been emitted for a certain period of time (the batch is empty). This action is specified using the `options.OnEmptyBatchAction` property.

This `OnEmptyBatchAction` is useful for performing cleanup or other actions when no logging activity is occurring. In this example, a message is written to the debug output when no events have been emitted for the specified 2 seconds.

```csharp
_host = Host.CreateDefaultBuilder()
    .ConfigureServices((context, services) =>
    {
        services.AddSingleton<MainWindow>();
        services.AddSingleton<ObservableCollection<LogEvent>>();
        services.AddTransient<LogPage>();
    })
    .UseSerilog((context, services, configuration) =>
    {
        var logEvents = services.GetRequiredService<ObservableCollection<LogEvent>>();
        configuration
            .MinimumLevel.Debug() // Set the global minimum level to Debug
            .WriteTo.ObservableCollection(logEvents, Application.Current.Dispatcher.Invoke, options =>
            {
                options.MaxStoredEvents = 1000;
                options.EnableBatching = true;
                options.BatchSizeLimit = 50;
                options.Period = TimeSpan.FromSeconds(2);
                options.MinimumLevel = LogEventLevel.Information; // set the minimum level for the ObservableCollection sink to Information
                options.OnEmptyBatchAction = async () =>
                {
                    // Custom action to perform when no events have been emitted for a certain period of time
                    await Task.Run(() => Debug.WriteLine("No events emitted for the specified period."));
                };
            });
    })
    .Build();
```

## Logger Usage
The logger is used in the `OnStartup()` method in the App.xaml.cs file.

```csharp
Log.Information("Application started");
Log.Warning("This is a warning message");
Log.Error("This is an error message");
```
## Log Display
The logs are displayed in a LogPage, which is navigated to in the `OnStartup()` method in the App.xaml.cs file. 
The LogPage contains a DataGrid bound to the `ObservableCollection<LogEvent> LogEvents` property of its DataContext.
```xaml
<DataGrid Grid.Row="1"
          ItemsSource="{Binding LogEvents}"
          AutoGenerateColumns="False"
          IsReadOnly="True">
    <DataGrid.Columns>
        <DataGridTextColumn Header="Timestamp"
                            Binding="{Binding Timestamp, StringFormat={}{0:yyyy-MM-dd HH:mm:ss.fff}}"
                            Width="150" />
        <DataGridTextColumn Header="Level"
                            Binding="{Binding Level}"
                            Width="100" />
        <DataGridTextColumn Header="Message"
                            Binding="{Binding Converter={StaticResource LogEventMessageConverter}}"
                            Width="*" />
        <DataGridTextColumn Header="Exception"
                            Binding="{Binding Exception}"
                            Width="200" />
    </DataGrid.Columns>
</DataGrid>
```

## LogEventMessageConverter
The LogEventMessageConverter is a value converter that is used to convert the LogEvent object to a string by calling the `RenderMessage()` method. This converter is used in the Message column binding in the DataGrid in LogPage.xaml.
```csharp
public class LogEventMessageConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
	    if (value is LogEvent logEvent)
	    {
		    return logEvent.RenderMessage();
	    }
	    return string.Empty;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
	    throw new NotImplementedException();
    }
}
```

##  Generating Logs
Logs can be generated by clicking the "Generate Log" button on the LogPage. The `LogButton_Click()` method in the LogPage.xaml.cs file generates a random log type and writes a log of that type. The log types include information, warning, debug, error, and a custom formatted log.
```csharp
private void LogButton_Click(object sender, RoutedEventArgs e)
{
    var random = new Random();
    var logType = random.Next(1, 6);

    switch (logType)
    {
        case 1:
            Log.Information("Button was clicked");
            break;
        case 2:
            Log.Warning("This is a warning log");
            break;
        case 3:
            Log.Debug("This is a debug log");
            break;
        case 4:
            try
            {
                throw new Exception("This is a test exception");
            }
            catch (Exception ex)
            {
                Log.Error(ex, "An error occurred");
            }
            break;
        case 5:
            Log.Information("Custom formatted log: User {Username} clicked the button", Environment.UserName);
            break;
    }
}
```

### License
This project is licensed under the MIT License - see the LICENSE.md file for details.